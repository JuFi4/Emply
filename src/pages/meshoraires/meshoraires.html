
<!--
  Generated template for the Meshoraires page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>

  <ion-toolbar> <!-- Même design que la nav-bar, mais sans le back button ! -->
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon> 
    </button>
    <ion-title>Mes horaires</ion-title>
   </ion-toolbar>
</ion-header>
<ion-content padding><!--
<ion-item>
  <ion-label>Choisir un mois</ion-label> 
    <ion-select [(ngModel)]= "mois" (ngModelChange)= "onChange(mois)">
       <ion-option  *ngFor = "let mois of moisListe"> {{mois.nom}}</ion-option>
    </ion-select>  
</ion-item>-->
<!--
<ion-item>
<ion-item text-wrap>
    <ion-label>Synchroniser les nouveaux horaires dans le calendrier</ion-label>
    <ion-checkbox [(ngModel)]="autoImport"  (click)="saveAutoImportChange()" [disabled] ="isHorsLigne"></ion-checkbox>
  </ion-item>-->
<div *ngIf = "annee && moisSelectionne"  (swipe)="changerMois($event)">
<div class="month"> 
  <ul>
    <button  class="prev" ion-button (click)="goToMoisPrecedent()">&#10094;</button>
    <button class="next" ion-button (click)= "goToMoisSuivant()" >&#10095;</button>
    <li >
     {{moisSelectionne.nom}}
    </li>  
    <li>
      {{anneeSelectionne}}      
    </li>  
  </ul>
</div>

<ul class="weekdays">
  <li *ngFor = "let semaine of semaines">
    <span>{{semaine.nom}}</span></li>
</ul>



<ul class="days"> 
  <li  *ngFor ="let i of joursMoisPrecedent">
   <button class="detailJour" ion-button disabled="true" > 
     {{i.jour}}    
   </button>
  </li>
  <li  *ngFor ="let i of jours">
   <button class="detailJour" ion-button (click)="detailHoraire(i)"         
        [class.hasHoraire]="i.hasHoraire"
        [class.isAujourdhui]="i.isAujourdhui"
        [class.isMaladie]="i.isMaladie"
        [class.isAccident]="i.isAccident"
        [class.isVacance]="i.isVacance"
        [class.isFormation]="i.isFormation"
        [class.isPaternite]="i.isPaternite"
        [class.isCongeSansSolde]="i.isCongeSansSolde"
        [class.isRecuperation]="i.isRecuperation"
        [class.isAutreDemande]="i.isAutreDemande"> 
     {{i.jour}}    
   </button>
  </li>
</ul>


</div>
<div *ngIf="affichageH">
  <h3 class = "titreH" >Vos horaires du {{selJour}}</h3> 
 <ul>
 <li *ngFor = "let hjours of horaireDuJour">
  <ion-item>
      <ion-label>Horaire début :</ion-label> <ion-input disabled ="true" required [(ngModel)]="hjours.affichageHeureDebut" name = "debut"></ion-input>
  </ion-item>
  <ion-item >
      <ion-label>Horaire fin :</ion-label> <ion-input  disabled ="true" required [(ngModel)]="hjours.affichageHeureFin" name = "fin"></ion-input>   
  </ion-item>
  </li>
  </ul> 
<div *ngIf = "pasHeure">
  <h2 class = "messagePasH"> Vous n'avez pas d'heure aujourd'hui</h2>
</div>
<div *ngIf = "isMaladie">
  <h2 class = "messagePasH"> Vous êtes en congé maladie/accident, rétablissez vous bien</h2>
</div>
<div *ngIf = "isAccident">
  <h2 class = "messagePasH"> Vous êtes en congé maladie/accident, rétablissez vous bien</h2>
</div>
<div *ngIf = "isCongeSansSolde">
  <h2 class = "messagePasH"> Vous avez pris un congé sans solde</h2>
</div>
<div *ngIf = "isFormation">
  <h2 class = "messagePasH"> Vous êtes en formations</h2>
</div>
<div *ngIf = "isVacances">
  <h2 class = "messagePasH"> Vous êtes en vacances</h2>
</div>
<div *ngIf = "isCongePaternite">
  <h2 class = "messagePasH"> Vous êtes en congé paternité</h2>
</div>
<div *ngIf = "isRecuperation">
  <h2 class = "messagePasH"> Vous êtes en congé de récupération</h2>
</div>
<div *ngIf = "isAutreDemande">
  <h2 class = "messagePasH"> Vous êtes actuellement en congé </h2>
</div>
</div>
</ion-content>